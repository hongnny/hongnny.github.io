"use strict";(self.webpackChunkweblog=self.webpackChunkweblog||[]).push([[8122],{5224:function(e,t,n){n.r(t),n.d(t,{assets:function(){return w},contentTitle:function(){return b},default:function(){return D},frontMatter:function(){return g},metadata:function(){return E},toc:function(){return C}});var a=n(7462),r=n(3366),o=n(7294),i=n(3905),l=n(4578),c=n(9669),s=n.n(c);s().interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),s().interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var u=function(e){return e=e||{},s()(e)},d="tag_yi4H",p="content_mf0z",m="marginTop_bPys",f=n(7214),h=n(151),v=n(1889),k=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={show:!1,loading:!1,value:"",videoData:{}},n}(0,l.Z)(t,e);var n=t.prototype;return n.handleChangeValue=function(e){this.setState({value:e.target.value})},n.handleTranslate=function(){var e=this;this.setState({loading:!0}),u({method:"get",url:"https://api.oick.cn/douyin/api.php?url="+this.state.value}).then((function(t){console.log(t),t&&e.setState({show:!0,videoData:t})})).finally((function(){e.setState({loading:!1})}))},n.handleDownload=function(){var e=this;u(this.state.videoData.play).then((function(e){return e.blob()})).then((function(t){var n=document.createElement("a"),a=window.URL.createObjectURL(t);n.setAttribute("download",e.state.videoData.title),n.setAttribute("href",a),n.click(),window.URL.revokeObjectURL(a),n.remove()}))},n.handleCopy=function(e){var t=document.createElement("textarea");t.style.zIndex=-999,t.style.position="fixed",t.style.left="-9999px",t.value=e,document.body.appendChild(t),requestAnimationFrame((function(){t.select(),document.execCommand("copy"),f.ZP.success("\u590d\u5236\u6210\u529f\uff01"),t.remove()}))},n.render=function(){var e=this,t=this.state,n=t.value,a=t.loading,r=t.videoData;return o.createElement("div",null,o.createElement("div",null,o.createElement("p",{className:d},"\u8bf7\u8f93\u5165\u89c6\u9891\u7684\u94fe\u63a5"),o.createElement(h.Z,{style:{width:"300px"},placeholder:"\u8f93\u5165\u89c6\u9891\u5730\u5740",value:n,onChange:function(t){return e.handleChangeValue(t)}}),o.createElement(v.Z,{type:"primary",loading:a,onClick:function(t){return e.handleTranslate(t)}},"\u8f6c\u6362")),this.state.show?o.createElement("div",{className:m},o.createElement("div",null,o.createElement("p",{className:d},"\u8be5\u89c6\u9891\u5730\u5740\u4e3a"),o.createElement("div",null,o.createElement("p",{className:p},r.play),o.createElement(v.Z,{type:"primary",onClick:function(){return e.handleCopy(r.play)}},"\u590d\u5236\u5730\u5740"))),o.createElement("div",{className:m},o.createElement("p",{className:d},"\u8be5\u89c6\u9891\u7684\u97f3\u4e50\u5730\u5740\u4e3a"),o.createElement("p",{className:p},r.music),o.createElement(v.Z,{type:"primary",onClick:function(){return e.handleCopy(r.music)}},"\u590d\u5236\u5730\u5740"))):"")},t}(o.Component),y=["components"],g={title:"\u6296\u97f3\u53bb\u9664\u89c6\u9891\u6c34\u5370"},b=void 0,E={unversionedId:"tiktok",id:"tiktok",title:"\u6296\u97f3\u53bb\u9664\u89c6\u9891\u6c34\u5370",description:"",source:"@site/packages/api/tiktok.mdx",sourceDirName:".",slug:"/tiktok",permalink:"/api/tiktok",draft:!1,editUrl:"https://github.com/jonbenery/weblog/packages/api/tiktok.mdx",tags:[],version:"current",lastUpdatedBy:"jonbenery",lastUpdatedAt:1670983553,formattedLastUpdatedAt:"12/14/2022",frontMatter:{title:"\u6296\u97f3\u53bb\u9664\u89c6\u9891\u6c34\u5370"},sidebar:"docs",previous:{title:"api\u63a5\u53e3",permalink:"/api/"}},w={},C=[],x={toc:C};function D(e){var t=e.components,n=(0,r.Z)(e,y);return(0,i.kt)("wrapper",(0,a.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(k,{mdxType:"Tiktok"}))}D.isMDXComponent=!0}}]);